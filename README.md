# 「空山素影」

皮肤文件通过 `Jsonnet` 语法编写，在手机端首次使用时请执行「运行 main.jsonnet」进行编译生成皮肤配置文件。

PC 端编译时需要安装 `jsonnet` 等命令行工具。

## 皮肤特点
- 不包含图片资源，风格接近原生键盘。
- 支持 PC 布局，适合习惯 PC 键盘布局的用户使用。
- 使用 RIME 的 `ascii_mode` 进行中英文切换。
- 工具栏滑动按钮自定义，方便快速对工具栏进行个性化设置，且可以设置为纯文本工具栏。
- 空格键显示当前输入方案名称，方便查看当前输入方案。
- 中文模式下字母键大写显示，是中文还是英文一目了然。
- 支持按键上下划动功能，可以输入 PC 键盘上的所有符号，可快速设置是否显示划动提示文字。
- a,z,x,c,v 五个按键下划对应全选、撤销、剪切、复制、粘贴，与 PC 键盘习惯一致。
- 按键支持特定的自定义语法，可以非常简单地实现各种按键功能。
- 主题色可选，满足不同用户的审美需求。
- 数字键盘符号默认不经过 RIME 处理，上划时经过 RIME 处理。
- 左下角 123 按键动态显示分词键，方便输入中进行手动分词。
- 支持功能键自定义，方便快速使用常用功能（默认不开启）。
- 可以直接打开皮肤中 Settings.libsonnet 和 Keyboard.libsonnet 文件进行自定义调整。

## 上下划动功能说明
```
1234567890 上划功能
qwertyuiop 按键
       |<> 下划功能

!^/;(-#{" 上划功能
asdfghjkl 按键
 `\:)_+}' 下划功能，a全选

@*%=[&? 上划功能
zxcvbnm 按键
    ]~$ 下划功能，z撤销、x剪切、c复制、v粘贴

backspace 上划清空文本，下划撤销
123 上划切换符号键盘，下划切换 emoji 键盘
逗号 上划输入句号
中英 上划切换方案
enter 上划 home，下划 end，长按换行
```

## 自定义皮肤调整说明

- 皮肤的基本设置
  + 位于 `jsonnet/Settings.libsonnet` 文件，保存后重新编译皮肤即可生效。
  + 浮动键盘中的“微调”可以直接打开该文件进行编辑。

- 键盘按键功能设置
  + 位于 `jsonnet/Constants/Keyboard.libsonnet`文件，保存后重新编译皮肤即可生效。
  + 定义了键盘按键功能，各区域高度等常量。
  + 浮动键盘中的“按键”可以直接打开该文件进行编辑。
  + 按键的具体配置语法可以参考 `doc/按键语法说明.md`。

## 手机端编译

长按皮肤，选择「运行 main.jsonnet」

## PC 端编译

```shell
jsonnet -S -m . --tla-code debug=true .\jsonnet\main.jsonnet
```
